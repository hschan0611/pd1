{% extends "global/Page.html" %}
{% load otree %}

{% block title %}
    Match {{ subsession.match_number }}, Round {{ subsession.round_in_match_number }} &#8211; Make Your Choice!
{% endblock %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'global/matrix.css' %}" />
    <style>
        .highlight-row-on-hover:hover td {
            background-color: #fcf8e3;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="form-group required">
        <table class="table table-bordered text-center" style="width: auto; margin: auto">
            <tr>
                <th colspan="2" rowspan="2"></th>
                <th colspan="2">The Other Participant</th>
            </tr>
            <tr>
                <th>Action 1</th>
                <th>Action 2</th>
            </tr>

            {% if subsession.active_game == 1 %}
            <!-- Payoff table for Game 1 -->
            <tr class="highlight-row-on-hover">
                <th rowspan="2"><span class="rotate90">You</span></th>
                <td><button name="decision" value="Action 1" class="btn btn-primary btn-large">I choose Action 1</button></td>
                <td>{{ Constants.both_cooperate_payoff_1 }}, {{ Constants.both_cooperate_payoff_1 }}</td>
                <td>{{ Constants.betrayed_payoff_1 }}, {{ Constants.betray_payoff_1 }}</td>
            </tr>
            <tr class="highlight-row-on-hover">
                <td><button name="decision" value="Action 2" class="btn btn-primary btn-large">I choose Action 2</button></td>
                <td>{{ Constants.betray_payoff_1 }}, {{ Constants.betrayed_payoff_1 }}</td>
                <td>{{ Constants.both_defect_payoff_1 }}, {{ Constants.both_defect_payoff_1 }}</td>
            </tr>

            {% elif subsession.active_game == 2 %}
            <!-- Payoff table for Game 2 -->
            <tr class="highlight-row-on-hover">
                <th rowspan="2"><span class="rotate90">You</span></th>
                <td><button name="decision" value="Action 1" class="btn btn-primary btn-large">I choose Action 1</button></td>
                <td>{{ Constants.both_cooperate_payoff_2 }}, {{ Constants.both_cooperate_payoff_2 }}</td>
                <td>{{ Constants.betrayed_payoff_2 }}, {{ Constants.betray_payoff_2 }}</td>
            </tr>
            <tr class="highlight-row-on-hover">
                <td><button name="decision" value="Action 2" class="btn btn-primary btn-large">I choose Action 2</button></td>
                <td>{{ Constants.betray_payoff_2 }}, {{ Constants.betrayed_payoff_2 }}</td>
                <td>{{ Constants.both_defect_payoff_2 }}, {{ Constants.both_defect_payoff_2 }}</td>
            </tr>
            {% endif %}
        </table>
    </div>
{% endblock %}
